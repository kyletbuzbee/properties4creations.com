<form id="property-inquiry-sidebar" action="" method="POST" class="space-y-6" novalidate>
    <input type="hidden" name="_subject" value="Lead: {{ title | default('Property Inquiry') }}">
    <input type="hidden" name="_next" value="/thank-you/">
    <input type="hidden" name="property" value="{{ title | default('') }}">

    <div>
        <label for="sidebar-name" class="block text-sm font-medium text-slate-700 mb-1">Full Name</label>
        <input type="text" id="sidebar-name" name="name" required
               class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-wood focus:border-transparent transition-colors"
               placeholder="Your full name">
    </div>

    <div>
        <label for="sidebar-email" class="block text-sm font-medium text-slate-700 mb-1">Email</label>
        <input type="email" id="sidebar-email" name="email" required
               class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-wood focus:border-transparent transition-colors"
               placeholder="your.email@example.com">
    </div>

    <div>
        <label for="sidebar-phone" class="block text-sm font-medium text-slate-700 mb-1">Phone (Optional)</label>
        <input type="tel" id="sidebar-phone" name="phone"
               class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-wood focus:border-transparent transition-colors"
               placeholder="(901) 555-0123">
    </div>

    <div class="flex items-center">
        <input type="checkbox" id="sidebar-veteran" name="veteran" class="mr-2 rounded border-slate-300 focus:ring-brand-wood">
        <label for="sidebar-veteran" class="text-sm text-slate-700">U.S. Military Veteran</label>
    </div>

    <button type="submit" class="w-full inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-br from-brand-wood to-brand-walnut text-brand-navy border-brand-walnut hover:from-brand-walnut hover:to-brand-wood hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0 border transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-wood focus-visible:ring-offset-2 rounded-lg font-semibold text-center">
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
        </svg>
        Request Tour
    </button>

    <div class="mt-4 p-3 bg-green-50 border border-green-200 rounded-lg">
        <p class="text-xs text-green-800 text-center">
            <strong>Rentals fill quickly!</strong><br>
            We'll respond within 24 hours.
        </p>
    </div>
</form>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Handle form submission for dynamic Google Apps Script URL
    const sidebarForm = document.querySelector('#property-inquiry-sidebar');
    if (sidebarForm) {
        sidebarForm.addEventListener('submit', function(e) {
            // You can add custom form handling here if needed
            console.log('Property inquiry submitted from sidebar');
        });
    }
});
</script>
